function fAddClass(e,t){for(var a=e.className?e.className.split(" "):[],s=0;s<a.length;s++)if(a[s]==t)return;a.push(t),e.className=a.join(" ")}function fRemoveClass(e,t){for(var a=e.className.split(" "),s=0;s<a.length;s++)a[s]==t&&(a.splice(s,1),s--);e.className=a.join(" ")}function fCreateElement(){var e=document.createElement(arguments[0]);if(arguments.length>1&&"object"==typeof arguments[1])for(var t in arguments[1])e[t]=arguments[1][t];return e}var CalcAndDrawPlugin={a:{min:6,max:9},b:{},s:{min:11,max:14},graph:{},init:function(e){this.setterms();var t=this,a=fCreateElement("div",{id:"formula"}),s=fCreateElement("span",{className:"",innerHTML:this.a.val}),n=fCreateElement("span",{innerHTML:this.b.val}),i=fCreateElement("input",{type:"number",disabled:!0,className:"term metamorphosis",placeholder:"?"});e.appendChild(a),a.appendChild(s),a.appendChild(document.createTextNode(" + ")),a.appendChild(n),a.appendChild(document.createTextNode(" = ")),a.appendChild(i),this.s.target=i,i.addEventListener("input",function(){t.checkcorrect(t.s)});var r=fCreateElement("input",{type:"number",id:"a",className:"term"});this.a.target=r,e.appendChild(r),this.a.label=s,r.addEventListener("input",function(){t.checkcorrect(t.a)});var l=fCreateElement("input",{type:"number",id:"b",className:"term js-vhidden"});this.b.target=l,e.appendChild(l),this.b.label=n,l.addEventListener("input",function(){t.checkcorrect(t.b)});var d=fCreateElement("div",{id:"scale"});this.graph.target=d,e.appendChild(d);var h=fCreateElement("div",{className:"number"+this.a.val});d.appendChild(h);var m=fCreateElement("div",{className:"number"+this.s.val});d.appendChild(m),this.a.target.focus()},setterms:function(){this.a.val=this.randomize(this.a.min,this.a.max),this.s.val=this.randomize(this.s.min,this.s.max),this.b.val=this.s.val-this.a.val},randomize:function(e,t){return Math.round(e-.5+Math.random()*(t-e+1))},checkcorrect:function(e){var t=e.target;+t.value==e.val?(fRemoveClass(t,"error"),void 0!==e.label&&fRemoveClass(e.label,"error"),fAddClass(t,"metamorphosis"),t.disabled=!0,e==this.a?(fRemoveClass(this.b.target,"js-vhidden"),this.b.target.focus()):e==this.b?(fRemoveClass(this.s.target,"metamorphosis"),this.s.target.disabled=null,this.s.target.placeholder="",this.s.target.focus()):alert("Congratulations!")):(fAddClass(t,"error"),void 0!==e.label&&fAddClass(e.label,"error"))}};document.addEventListener("DOMContentLoaded",function(e){CalcAndDrawPlugin.init(document.getElementById("CalcAndDraw"))});